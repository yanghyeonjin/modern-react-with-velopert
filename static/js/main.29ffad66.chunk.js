(this["webpackJsonpmodern-react-with-velopert"]=this["webpackJsonpmodern-react-with-velopert"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),u=n.n(c),o=(n(14),n(2)),l=n(8),i=n(1);n(15);var s=Object(a.memo)((function(e){var t=e.user,n=Object(a.useContext)(f),c=t.id,u=t.username,o=t.email,l=t.active;Object(a.useEffect)((function(){return console.log("user \uac12\uc774 \uc124\uc815\ub428."),console.log(t),function(){console.log("user \uac00 \ubc14\ub00c\uae30 \uc804.."),console.log(t)}}),[t]);var i=Object(a.useCallback)((function(e){n({type:"TOGGLE_USER",id:e})}),[n]),s=Object(a.useCallback)((function(e){n({type:"REMOVE_USER",id:e})}),[n]);return r.a.createElement("div",null,r.a.createElement("b",{className:l?"username active":"username",onClick:function(){return i(c)}},u)," ",r.a.createElement("span",null,"(",o,")"),r.a.createElement("button",{onClick:function(){return s(c)}},"\uc0ad\uc81c"))})),m=n(5);var b=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1],u=Object(a.useCallback)((function(e){var t=e.target,n=t.name,a=t.value;c(Object(i.a)(Object(i.a)({},r),{},Object(m.a)({},n,a)))}),[r]),l=Object(a.useCallback)((function(){c(e)}),[e]);return[r,u,l]};var v=Object(a.memo)((function(){var e=b({username:"",email:""}),t=Object(o.a)(e,3),n=t[0],c=t[1],u=t[2],l=n.username,i=n.email,s=Object(a.useContext)(f),m=Object(a.useRef)(4),v=Object(a.useCallback)((function(){s({type:"CREATE_USER",id:m.current,username:l,email:i}),u(),m.current+=1}),[i,l,u,s]);return r.a.createElement("div",null,r.a.createElement("input",{name:"username",placeholder:"\uacc4\uc815\uba85",onChange:c,value:l}),r.a.createElement("input",{name:"email",placeholder:"\uc774\uba54\uc77c",onChange:c,value:i}),r.a.createElement("button",{onClick:v},"\ub4f1\ub85d"))})),O={users:[{id:1,username:"velopert",email:"public.velopert@gmail.com",active:!0},{id:2,username:"tester",email:"tester@example.com",active:!1},{id:3,username:"liz",email:"liz@example.com",active:!1}]},d=function(e,t){switch(t.type){case"CREATE_USER":return Object(i.a)(Object(i.a)({},e),{},{users:[].concat(Object(l.a)(e.users),[{id:t.id,username:t.username,email:t.email}])});case"TOGGLE_USER":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{active:!e.active}):e}))});case"REMOVE_USER":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.id}))});default:return e}};var f=Object(a.createContext)(null);var E=function(){var e=Object(a.useReducer)(d,O),t=Object(o.a)(e,2),n=t[0],c=t[1],u=n.users,l=Object(a.useMemo)((function(){return function(e){return console.log("\ud65c\uc131 \uc0ac\uc6a9\uc790 \uc218 \uc138\ub294 \uc911..."),e.filter((function(e){return e.active})).length}(u)}),[u]);return r.a.createElement(f.Provider,{value:c},r.a.createElement(v,null),u.map((function(e){return r.a.createElement(s,{key:e.id,user:e})})),r.a.createElement("div",null,"\ud65c\uc131\uc0ac\uc6a9\uc790 \uc218: ",l))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.29ffad66.chunk.js.map